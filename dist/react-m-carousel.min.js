!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactMCarousel=e()}}(function(){return function e(t,i,n){function s(o,r){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(a)return a(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return s(i?i:e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,i){(function(n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(){}Object.defineProperty(i,"__esModule",{value:!0});var o="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,r=s(o),l=e("./ReactMCarouselSlide.js"),d=s(l),u=e("react-prefixer"),c=s(u),p=r["default"].createClass({displayName:"ReactMCarousel",propTypes:{loop:r["default"].PropTypes.bool,lazy:r["default"].PropTypes.bool,direction:r["default"].PropTypes.oneOf(["vertical","horizontal"]),indicators:r["default"].PropTypes.bool,onSwiped:r["default"].PropTypes.func,onSwiping:r["default"].PropTypes.func,children:r["default"].PropTypes.oneOfType([r["default"].PropTypes.element.isRequired,r["default"].PropTypes.array.isRequired]),responsive:r["default"].PropTypes.number,flickThreshold:r["default"].PropTypes.number,activeIndex:r["default"].PropTypes.number,delta:r["default"].PropTypes.number},getDefaultProps:function(){return{direction:"horizontal",flickThreshold:.6,delta:100,className:"",responsive:40,activeIndex:0,onSwiped:a,onSwiping:a}},initialState:function(){return{x:null,y:null,swiping:!1,start:0,delta:0,transitionDuration:0}},getInitialState:function(){var e=this.initialState();return e.activeIndex=this.props.activeIndex,e.slideWidth=0,e},calculatePos:function(e){var t=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY,n=this.state.x-t,s=this.state.y-i,a=Math.abs(n),o=Math.abs(s);return{deltaX:n,deltaY:s,absX:a,absY:o}},move:function(e){this.setState({delta:e}),this.props.onSwiping(e)},sliding:function(e,t){t="number"==typeof t?t:0;var i=this.props.children.length;!this.props.loop&&(0>e||e>=i)&&(e=this.state.activeIndex);var n=e===this.state.activeIndex?t:this.state.slideWidth-t,s=n/2,a=(e+i)%i,o=this.initialState();o.activeIndex=e,o.transitionDuration=s,o.frozen=!0,this.transitionEnd(this.refs.carouselTrack,function(e){this.setState({activeIndex:a,transitionDuration:0}),this.props.onSwiped(a)},s),this.setState(o)},transitionEnd:function(e,t,i){function n(i){clearTimeout(o),t.call(s,i),e.removeEventListener(i.type,n,a),s.setState({frozen:!1})}var s=this,a=!1,o=setTimeout(function(){t.call(s),s.setState({frozen:!1}),e.removeEventListener("transitionend",n,a),e.removeEventListener("webkitTransitionEnd",n,a),e.removeEventListener("oTransitionEnd",n,a),e.removeEventListener("MSTransitionEnd",n,a)},i);e.addEventListener("transitionend",n,a),e.addEventListener("webkitTransitionEnd",n,a),e.addEventListener("oTransitionEnd",n,a),e.addEventListener("MSTransitionEnd",n,a)},touchStart:function(e){e.touches.length>1||this.setState({start:Date.now(),x:e.touches[0].clientX,y:e.touches[0].clientY,swiping:!1})},touchMove:function(e){if(this.state.x&&this.state.y&&!(e.touches.length>1)){if(this.state.frozen)return e.preventDefault(),void e.stopPropagation();var t="horizontal"===this.props.direction,i=!1,n=this.calculatePos(e);t&&n.absX>n.absY?(i=!0,this.move(n.deltaX)):!t&&n.absX<n.absY&&(i=!0,this.move(n.deltaY)),this.setState({swiping:!0}),i&&(e.preventDefault(),e.stopPropagation())}},touchEnd:function(e){if(this.state.swiping){var t=this.calculatePos(e),i=Date.now()-this.state.start,n=Math.sqrt(t.absX*t.absX+t.absY*t.absY)/i,s=n>this.props.flickThreshold,a=this.state.activeIndex,o=(this.props.children.length,"horizontal"===this.props.direction);o&&t.absX>t.absY?(s||t.absX>this.props.delta)&&(a+=t.absX/t.deltaX):!o&&t.absX<t.absY&&(s||t.absY>this.props.delta)&&(a+=t.absY/t.deltaY),this.sliding(a,t.absX)}},touchCancel:function(e){console.log(e)},getIndicators:function(){var e=this;return this.props.indicators?r["default"].createElement("div",{className:"indicators"},this.props.children.map(function(t,i){return r["default"].createElement("div",{onClick:e.sliding.bind(e,i),className:"dot "+(e.state.activeIndex==i?"active":""),key:i},i)})):null},shouldActive:function(e){return this.state.activeIndex-1<=e&&e<=this.state.activeIndex+1},render:function(){var e=this,t=!!this.props.loop,i={position:"relative",width:"100%",overflow:"hidden"};0!==this.props.responsive&&(i.height=0,i.paddingBottom=this.props.responsive+"%");var n={position:"absolute",height:"100%",whiteSpace:"nowrap",transform:"translate("+(-this.state.slideWidth*(this.state.activeIndex+(t?1:0))-this.state.delta)+"px, 0px) translateZ(0px)",transitionDuration:this.state.transitionDuration+"ms"},s=this.props.children.length;return!s||1>=s?(n.transform="translate(0,0,0)",r["default"].createElement("div",{className:"m-carousel "+this.props.className,style:i,ref:"carousel"},r["default"].createElement("div",{style:(0,c["default"])(n),ref:"carouselTrack"},r["default"].createElement(d["default"],{width:this.state.slideWidth},this.props.children)))):r["default"].createElement("div",{className:"m-carousel "+this.props.className,style:i,onTouchStart:this.touchStart,onTouchMove:this.touchMove,onTouchEnd:this.touchEnd,onTouchCancel:this.touchCancel,ref:"carousel"},r["default"].createElement("div",{style:(0,c["default"])(n),ref:"carouselTrack"},t?r["default"].createElement(d["default"],{lazy:this.props.lazy,actived:this.shouldActive(-1),width:this.state.slideWidth},this.props.children[s-1]):null,this.props.children.map(function(t,i){return r["default"].createElement(d["default"],{key:i,lazy:e.props.lazy,actived:e.shouldActive(i),width:e.state.slideWidth},t)}),t?r["default"].createElement(d["default"],{lazy:this.props.lazy,actived:this.shouldActive(s),width:this.state.slideWidth},this.props.children[0]):null),this.getIndicators())},componentDidMount:function(){this.setState({slideWidth:this.refs.carousel.getBoundingClientRect().width})},componentWillReceiveProps:function(e){this.props.activeIndex!==e.activeIndex&&this.sliding(e.activeIndex)}});i["default"]=p,t.exports=i["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ReactMCarouselSlide.js":2,"react-prefixer":void 0}],2:[function(e,t,i){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var s="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,a=n(s),o=a["default"].createClass({displayName:"ReactMCarouselSlide",propTypes:{width:a["default"].PropTypes.number,actived:a["default"].PropTypes.bool,lazy:a["default"].PropTypes.bool,children:a["default"].PropTypes.element},getDefaultProps:function(){return{actived:!1,lazy:!1}},getInitialState:function(){return{actived:this.props.actived}},render:function(){var e={display:"inline-block",height:"100%",width:this.props.width};return this.props.width?a["default"].createElement("div",{className:"m-carousel-slide",style:e},this.props.lazy&&!this.state.actived?"加载中...":this.props.children):null},componentWillReceiveProps:function(e){e.actived&&this.setState({actived:!0})}});i["default"]=o,t.exports=i["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});